<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Deals Slider</title>
  <link rel="stylesheet" href="../css/promo.css" />
</head>
<body>
  <div class="carousel-container">
    <!-- Navigation Arrows -->
    <button class="nav-btn left" onclick="prevSlide()">&#10094;</button>

    <!-- Slides -->
    <div class="carousel-track">
      <div class="slide">
        <img src="../assests/promo_card1.png" alt="hsbda">
      </div>
      <div class="slide" style="background-color: #9b59b6;">
        <h2>Deal 2: Sofas from ₹12,499</h2>
      </div>
      <div class="slide" style="background-color: #e67e22;">
        <h2>Deal 3: Wardrobes from ₹6,999</h2>
      </div>
      <div class="slide" style="background-color: #2ecc71;">
        <h2>Deal 4: Dining Sets from ₹14,499</h2>
      </div>
    </div>

    <!-- Navigation Arrows -->
    <button class="nav-btn right" onclick="nextSlide()">&#10095;</button>

    <!-- Progress Bar Indicators -->
    <div class="progress-indicators">
      <div class="progress-bar"></div>
      <div class="progress-bar"></div>
      <div class="progress-bar"></div>
      <div class="progress-bar"></div>
    </div>
  </div>

  <script >
    const track = document.querySelector('.carousel-track');
const bars = document.querySelectorAll('.progress-bar');
let currentIndex = 0;
const totalSlides = 4;
const delay = 1000;
let interval;

function animateBar(index) {
  bars.forEach((bar, i) => {
    bar.innerHTML = ""; // clear previous
    if (i === index) {
      const animDiv = document.createElement("div");
      animDiv.style.cssText = `
        height: 100%;
        width: 100%;
        background: white;
        transform: scaleX(0);
        transform-origin: left;
        animation: fill 1s linear forwards;
      `;
      bar.appendChild(animDiv);
    }
  });
}

function updateSlide() {
  track.style.transform = `translateX(-${currentIndex * 100}vw)`;
  animateBar(currentIndex);
}

function nextSlide() {
  currentIndex = (currentIndex + 1) % totalSlides;
  updateSlide();
}

function prevSlide() {
  currentIndex = (currentIndex - 1 + totalSlides) % totalSlides;
  updateSlide();
}

function startAutoPlay() {
  interval = setInterval(nextSlide, delay);
}

function stopAutoPlay() {
  clearInterval(interval);
}

// Start
updateSlide();
startAutoPlay();

// Optional: Pause on hover
document.querySelector('.carousel-container').addEventListener('mouseover', stopAutoPlay);
document.querySelector('.carousel-container').addEventListener('mouseleave', startAutoPlay);

  </script>
</body>
</html>
